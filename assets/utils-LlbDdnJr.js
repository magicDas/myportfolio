import{g as e,r as t,o as r,w as n,i as a,a as s,b as l,c as i,u as o,d as u,p as c,e as $,f as v,n as d}from"./vendor-fpfDNh69.js";function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce(((r,n)=>(t.includes(n)||(r[n]=o(e[n])),r)),{})}function g(e){return"function"==typeof e}function m(e,t,r){let n=e;const a=t.split(".");for(let s=0;s<a.length;s++){if(!n[a[s]])return r;n=n[a[s]]}return n}function b(e,t,r){return i((()=>e.some((e=>m(t,e,{[r]:!1})[r]))))}function O(e,t,r){return i((()=>e.reduce(((e,n)=>{const a=m(t,n,{[r]:!1})[r]||[];return e.concat(a)}),[])))}function E(e,t,r,n){return e.call(n,o(t),o(r),n)}function j(e){return void 0!==e.$valid?!e.$valid:!e}function w(e,r,a,s,l,o,u,c,$,v,d){const p=t(!1),h=e.$params||{},y=t(null);let m,b;e.$async?({$invalid:m,$unwatch:b}=function(e,r,a,s,l,i,o){let{$lazy:u,$rewardEarly:c}=l,$=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],v=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;const h=t(!!s.value),y=t(0);a.value=!1;const f=n([r,s].concat($,p),(()=>{if(u&&!s.value||c&&!d.value&&!a.value)return;let t;try{t=E(e,r,v,o)}catch(n){t=Promise.reject(n)}y.value++,a.value=!!y.value,h.value=!1,Promise.resolve(t).then((e=>{y.value--,a.value=!!y.value,i.value=e,h.value=j(e)})).catch((e=>{y.value--,a.value=!!y.value,i.value=e,h.value=!0}))}),{immediate:!0,deep:"object"==typeof r});return{$invalid:h,$unwatch:f}}(e.$validator,r,p,a,s,y,l,e.$watchTargets,$,v,d)):({$invalid:m,$unwatch:b}=function(e,t,r,n,a,s,l,o){let{$lazy:u,$rewardEarly:c}=n;return{$unwatch:()=>({}),$invalid:i((()=>{if(u&&!r.value||c&&!o.value)return!1;let n=!0;try{const r=E(e,t,l,s);a.value=r,n=j(r)}catch(i){a.value=i}return n}))}}(e.$validator,r,a,s,y,l,$,v));const O=e.$message;return{$message:g(O)?i((()=>O(f({$pending:p,$invalid:m,$params:f(h),$model:r,$response:y,$validator:o,$propertyPath:c,$property:u})))):O||"",$params:h,$pending:p,$invalid:m,$response:y,$unwatch:b}}function R(e){let{validations:r,state:l,key:u,parentKey:c,childResults:$,resultsCache:v,globalConfig:p={},instance:y,externalResults:f}=e;const m=c?`${c}.${u}`:u,{rules:E,nestedValidators:j,config:C,validationGroups:P}=function(){const e=o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=Object.keys(e),r={},n={},a={};let s=null;return t.forEach((t=>{const l=e[t];switch(!0){case g(l.$validator):r[t]=l;break;case g(l):r[t]={$validator:l};break;case"$validationGroups"===t:s=l;break;case t.startsWith("$"):a[t]=l;break;default:n[t]=l}})),{rules:r,nestedValidators:n,config:a,validationGroups:s}}(r),_=h(h({},p),C),k=u?i((()=>{const e=o(l);return e?o(e[u]):void 0})):l,L=h({},o(f)||{}),x=i((()=>{const e=o(f);return u?e?o(e[u]):void 0:e})),D=function(e,r,n,a,l,u,c,$,v){const d=Object.keys(e),p=a.get(l,e),h=t(!1),y=t(!1),f=t(0);if(p){if(!p.$partial)return p;p.$unwatch(),h.value=p.$dirty.value}const g={$dirty:h,$path:l,$touch:()=>{h.value||(h.value=!0)},$reset:()=>{h.value&&(h.value=!1)},$commit:()=>{}};return d.length?(d.forEach((t=>{g[t]=w(e[t],r,g.$dirty,u,c,t,n,l,v,y,f)})),g.$externalResults=i((()=>$.value?[].concat($.value).map(((e,t)=>({$propertyPath:l,$property:n,$validator:"$externalResults",$uid:`${l}-externalResult-${t}`,$message:e,$params:{},$response:null,$pending:!1}))):[])),g.$invalid=i((()=>{const e=d.some((e=>o(g[e].$invalid)));return y.value=e,!!g.$externalResults.value.length||e})),g.$pending=i((()=>d.some((e=>o(g[e].$pending))))),g.$error=i((()=>!!g.$dirty.value&&(g.$pending.value||g.$invalid.value))),g.$silentErrors=i((()=>d.filter((e=>o(g[e].$invalid))).map((e=>{const t=g[e];return s({$propertyPath:l,$property:n,$validator:e,$uid:`${l}-${e}`,$message:t.$message,$params:t.$params,$response:t.$response,$pending:t.$pending})})).concat(g.$externalResults.value))),g.$errors=i((()=>g.$dirty.value?g.$silentErrors.value:[])),g.$unwatch=()=>d.forEach((e=>{g[e].$unwatch()})),g.$commit=()=>{y.value=!0,f.value=Date.now()},a.set(l,e,g),g):(p&&a.set(l,e,g),g)}(E,k,u,v,m,_,y,x,l),I=function(e,t,r,n,a,s,l){const i=Object.keys(e);return i.length?i.reduce(((i,o)=>(i[o]=R({validations:e[o],state:t,key:o,parentKey:r,resultsCache:n,globalConfig:a,instance:s,externalResults:l}),i)),{}):{}}(j,k,m,v,_,y,x),T={};P&&Object.entries(P).forEach((e=>{let[t,r]=e;T[t]={$invalid:b(r,I,"$invalid"),$error:b(r,I,"$error"),$pending:b(r,I,"$pending"),$errors:O(r,I,"$errors"),$silentErrors:O(r,I,"$silentErrors")}}));const{$dirty:V,$errors:A,$invalid:N,$anyDirty:G,$error:S,$pending:F,$touch:z,$reset:K,$silentErrors:M,$commit:W}=function(e,t,r){const n=i((()=>[t,r].filter((e=>e)).reduce(((e,t)=>e.concat(Object.values(o(t)))),[]))),a=i({get:()=>e.$dirty.value||!!n.value.length&&n.value.every((e=>e.$dirty)),set(t){e.$dirty.value=t}}),s=i((()=>{const t=o(e.$silentErrors)||[],r=n.value.filter((e=>(o(e).$silentErrors||[]).length)).reduce(((e,t)=>e.concat(...t.$silentErrors)),[]);return t.concat(r)})),l=i((()=>{const t=o(e.$errors)||[],r=n.value.filter((e=>(o(e).$errors||[]).length)).reduce(((e,t)=>e.concat(...t.$errors)),[]);return t.concat(r)})),u=i((()=>n.value.some((e=>e.$invalid))||o(e.$invalid)||!1)),c=i((()=>n.value.some((e=>o(e.$pending)))||o(e.$pending)||!1)),$=i((()=>n.value.some((e=>e.$dirty))||n.value.some((e=>e.$anyDirty))||a.value)),v=i((()=>!!a.value&&(c.value||u.value))),d=()=>{e.$touch(),n.value.forEach((e=>{e.$touch()}))};return n.value.length&&n.value.every((e=>e.$dirty))&&d(),{$dirty:a,$errors:l,$invalid:u,$anyDirty:$,$error:v,$pending:c,$touch:d,$reset:()=>{e.$reset(),n.value.forEach((e=>{e.$reset()}))},$silentErrors:s,$commit:()=>{e.$commit(),n.value.forEach((e=>{e.$commit()}))}}}(D,I,$),q=u?i({get:()=>o(k),set:e=>{V.value=!0;const t=o(l),r=o(f);r&&(r[u]=L[u]),a(t[u])?t[u].value=e:t[u]=e}}):null;return u&&_.$autoDirty&&n(k,(()=>{V.value||z();const e=o(f);e&&(e[u]=L[u])}),{flush:"sync"}),s(h(h(h({},D),{},{$model:q,$dirty:V,$error:S,$errors:A,$invalid:N,$anyDirty:G,$pending:F,$touch:z,$reset:K,$path:m||"__root",$silentErrors:M,$validate:async function(){return z(),_.$rewardEarly&&(W(),await d()),await d(),new Promise((e=>{if(!F.value)return e(!N.value);const t=n(F,(()=>{e(!N.value),t()}))}))},$commit:W},$&&{$getResultsForChild:function(e){return($.value||{})[e]},$clearExternalResults:function(){a(f)?f.value=L:0===Object.keys(L).length?Object.keys(f).forEach((e=>{delete f[e]})):Object.assign(f,L)},$validationGroups:T}),I))}class C{constructor(){this.storage=new Map}set(e,t,r){this.storage.set(e,{rules:t,result:r})}checkRulesValidity(e,t,r){const n=Object.keys(r),a=Object.keys(t);if(a.length!==n.length)return!1;return!!a.every((e=>n.includes(e)))&&a.every((e=>!t[e].$params||Object.keys(t[e].$params).every((n=>o(r[e].$params[n])===o(t[e].$params[n])))))}get(e,t){const r=this.storage.get(e);if(!r)return;const{rules:n,result:a}=r,s=this.checkRulesValidity(e,t,n),l=a.$unwatch?a.$unwatch:()=>({});return s?a:{$dirty:a.$dirty,$partial:!0,$unwatch:l}}}const P={COLLECT_ALL:!0,COLLECT_NONE:!1},_=Symbol("vuelidate#injectChildResults"),k=Symbol("vuelidate#removeChildResults");function L(e){return new Proxy(e,{get:(e,t)=>"object"==typeof e[t]?L(e[t]):i((()=>e[t]))})}let x=0;function D(d,p){var y;let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1===arguments.length&&(f=d,d=void 0,p=void 0);let{$registerAs:m,$scope:b=P.COLLECT_ALL,$stopPropagation:O,$externalResults:E,currentVueInstance:j}=f;const w=j||(null===(y=e())||void 0===y?void 0:y.proxy),D=w?w.$options:{};m||(x+=1,m=`_vuelidate_${x}`);const I=t({}),T=new C,{childResults:V,sendValidationResultsToParent:A,removeValidationResultsFromParent:N}=w?function(e){let{$scope:r,instance:n}=e;const a={},s=t([]),l=i((()=>s.value.reduce(((e,t)=>(e[t]=o(a[t]),e)),{})));n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],(function(e,t){let{$registerAs:n,$scope:l,$stopPropagation:i}=t;i||r===P.COLLECT_NONE||l===P.COLLECT_NONE||r!==P.COLLECT_ALL&&r!==l||(a[n]=e,s.value.push(n))})),n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],(function(e){s.value=s.value.filter((t=>t!==e)),delete a[e]}));const $=u(_,[]);c(_,n.__vuelidateInjectInstances);const v=u(k,[]);return c(k,n.__vuelidateRemoveInstances),{childResults:l,sendValidationResultsToParent:$,removeValidationResultsFromParent:v}}({$scope:b,instance:w}):{childResults:t({})};if(!d&&D.validations){const e=D.validations;p=t({}),r((()=>{p.value=w,n((()=>g(e)?e.call(p.value,new L(p.value)):e),(e=>{I.value=R({validations:e,state:p,childResults:V,resultsCache:T,globalConfig:f,instance:w,externalResults:E||w.vuelidateExternalResults})}),{immediate:!0})})),f=D.validationsConfig||f}else{const e=a(d)||($(G=d)||v(G))?d:s(d||{});n(e,(e=>{I.value=R({validations:e,state:p,childResults:V,resultsCache:T,globalConfig:f,instance:null!=w?w:{},externalResults:E})}),{immediate:!0})}var G;return w&&(A.forEach((e=>e(I,{$registerAs:m,$scope:b,$stopPropagation:O}))),l((()=>N.forEach((e=>e(m)))))),i((()=>h(h({},o(I.value)),V.value)))}export{D as u};
